<mxfile host="app.diagrams.net" modified="2023-09-18T08:49:27.236Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36" etag="F7WTADRVO9WVQCFssTLy" version="21.7.5" type="google" pages="5">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="sequence-diagram">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="31veatcvXabuM6n3mju--25" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="799" as="sourcePoint" />
            <mxPoint x="940" y="900" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="799" />
              <mxPoint x="1000" y="900" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="O6Msf0nIQJOXLwqsJY90-4" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="620" as="sourcePoint" />
            <mxPoint x="940" y="780" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="620" />
              <mxPoint x="1000" y="780" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="capi-controller-manager" link="data:page/id,jB_KwWKISDssQRoUF651" id="xfaPNnZRIsi5CIh0o9ph-0">
          <mxCell style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="840" y="40" width="200" height="40" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="capo-controller-manager&lt;br&gt;（cluster-api openstack provider）" link="data:page/id,1GsGqCXN8Yxk1cSTd2W0" id="xfaPNnZRIsi5CIh0o9ph-1">
          <mxCell style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="40" y="40" width="200" height="40" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="capi-kubeadm-control-plane-controller-manager" link="data:page/id,fJfRLFwB4LryNWWHjsvg" id="xfaPNnZRIsi5CIh0o9ph-2">
          <mxCell style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="440" y="40" width="200" height="40" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="capi-kubeadm-bootstrap-controller-manager" link="data:page/id,9yOwVbE0o5gcLiuX17Gm" id="xfaPNnZRIsi5CIh0o9ph-4">
          <mxCell style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="1440" y="40" width="200" height="40" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="9UiaGdn9NneoMvXGy8pM-0" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="xfaPNnZRIsi5CIh0o9ph-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="100" as="sourcePoint" />
            <mxPoint x="140" y="3420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9UiaGdn9NneoMvXGy8pM-1" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="xfaPNnZRIsi5CIh0o9ph-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="90" as="sourcePoint" />
            <mxPoint x="540" y="3420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9UiaGdn9NneoMvXGy8pM-2" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="xfaPNnZRIsi5CIh0o9ph-0">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="320" as="sourcePoint" />
            <mxPoint x="940" y="3430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9UiaGdn9NneoMvXGy8pM-3" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="xfaPNnZRIsi5CIh0o9ph-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1550" y="90" as="sourcePoint" />
            <mxPoint x="1540" y="3430" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1540" y="580" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="S0s1iUTrSwCvE1cxI8T3-1" value="Create &lt;b&gt;OpenStackCluster&lt;/b&gt; Resource" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0;dx=10;notch=0;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-120" y="100" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="S0s1iUTrSwCvE1cxI8T3-7" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="EaBbJLAaGLSF6oYMtBNR-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="160" as="sourcePoint" />
            <mxPoint x="140" y="520" as="targetPoint" />
            <Array as="points">
              <mxPoint x="200" y="155" />
              <mxPoint x="200" y="520" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="&amp;nbsp;OpenStackCluster contains keystone auth secret in spec.identityRef&lt;br&gt;・Create Network（k8s-clusterapi-cluster-&amp;lt;NS&amp;gt;-&amp;lt;CLUSTER&amp;gt;）&lt;br&gt;・Create Subnet（from spec.nodeCidr, spec.dnsNameservers）&lt;br&gt;・Create Port from existing network (from spec.externalNetworkId)&lt;br&gt;　・Used in spec.controlPlaneEndpoint.host&lt;br&gt;・Create SecurityGroup&lt;br&gt;　・k8s-cluster-&amp;lt;NS&amp;gt;-&amp;lt;CLUSTER&amp;gt;-secgroup-worker&lt;br&gt;　・k8s-cluster-&amp;lt;NS&amp;gt;-&amp;lt;CLUSTER&amp;gt;-secgroup-controlplane&lt;br&gt;・Create SecurityGroup Rule&lt;br&gt;&lt;br&gt;&amp;nbsp;Update OpenStackClustrer.Spec and OpenStackCluster.Status&lt;br&gt;・Spec&lt;br&gt;　・cloudName, apiServerLoadBalancer, ...&lt;br&gt;・Status（include created / used resources）&lt;br&gt;　・controlPlaneSecurityGroup, workerSecurityGroup&lt;br&gt;　・externalNetwork, failureDomains, network" link="https://github.com/kubernetes-sigs/cluster-api-provider-openstack/blob/v0.7.3/controllers/openstackcluster_controller.go#L419" id="S0s1iUTrSwCvE1cxI8T3-11">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="-6" y="190" width="376" height="270" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&amp;nbsp;OpenStackCluster.Status.Ready = true" link="https://github.com/kubernetes-sigs/cluster-api-provider-openstack/blob/v0.7.3/controllers/openstackcluster_controller.go#L298" id="sGmMWHBVILiOfLJFSeOk-1">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="90" y="470" width="220" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="01ru8HnXRhpPKuoOUK4B-4" value="" style="endArrow=none;html=1;rounded=0;dashed=1;strokeWidth=2;strokeColor=#FFB570;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-260" y="577.63" as="sourcePoint" />
            <mxPoint x="1570" y="578" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="01ru8HnXRhpPKuoOUK4B-5" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#FFB570;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-140" y="577.63" as="sourcePoint" />
            <mxPoint x="-140" y="537.63" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="01ru8HnXRhpPKuoOUK4B-7" value="&amp;lt;&amp;nbsp;&lt;b&gt;&lt;font color=&quot;#ff031c&quot;&gt;Phase1&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&amp;gt;&lt;br&gt;Infrastructure.cluster.x-k8s.io&lt;br&gt;XXXCluster status is Ready&lt;br&gt;&lt;br&gt;Refered by cluster.x-k8s.io Cluster" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-270" y="457.63" width="230" height="80" as="geometry" />
        </mxCell>
        <mxCell id="KOVakj37ok9e6TtMFN-b-1" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="140" y="590" as="sourcePoint" />
            <mxPoint x="940" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EaBbJLAaGLSF6oYMtBNR-1" value="Reconcile &lt;b&gt;OpenStackCluster&lt;/b&gt; Controller" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-120" y="140" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gd78qVggPRkEUmriDfOX-0" value="Reconcile &lt;b&gt;Cluster&lt;/b&gt;&amp;nbsp;Controller" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="680" y="605" width="260" height="30" as="geometry" />
        </mxCell>
        <UserObject label="&lt;div style=&quot;text-align: center;&quot;&gt;&amp;nbsp;＜ reconcileInfrastructure ＞&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;・Retrieve &lt;/span&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;OpenStackCluster&lt;/b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt; from &lt;/span&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;Cluster.Spec.InfrastructureRef&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;・Retrieve some information from infrastructure and sync it to Cluster&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・&lt;b&gt;Cluster.Status.InfrastructureReady&lt;/b&gt; = &lt;b&gt;OpenStackCluster.Status.Ready&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・&lt;b&gt;Cluster.Spec.ControlPlaneEndpoint&lt;/b&gt; = &lt;b&gt;OpenStackCluster.Spec.ControlPlaneEndpoint&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・&lt;b&gt;Cluster.Status.FailureDomain &lt;/b&gt;= &lt;b&gt;OpenStack.Status.FailureDomain&lt;/b&gt;&lt;/div&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/cluster/cluster_controller_phases.go#L183-L214" id="gd78qVggPRkEUmriDfOX-5">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="761" y="650" width="529" height="120" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;＜ reconcilePhase ＞&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;Cluster.Status.InfrastructureReady&lt;/b&gt; &amp;amp;&amp;amp; &lt;b&gt;Cluster.Spec.ControlPlaneEndpoint&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;=&amp;gt; &lt;b&gt;Cluster.Status.Phase.Provisioned&lt;/b&gt;&lt;/div&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/cluster/cluster_controller_phases.go#L55-L57" id="gd78qVggPRkEUmriDfOX-7">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="761" y="810" width="480" height="70" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="gd78qVggPRkEUmriDfOX-10" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="155" as="sourcePoint" />
            <mxPoint x="940" y="241" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="155" />
              <mxPoint x="1000" y="241" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gd78qVggPRkEUmriDfOX-11" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="255" as="sourcePoint" />
            <mxPoint x="940" y="341" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="255" />
              <mxPoint x="1000" y="341" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gd78qVggPRkEUmriDfOX-12" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="365" as="sourcePoint" />
            <mxPoint x="940" y="451" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="365" />
              <mxPoint x="1000" y="451" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gd78qVggPRkEUmriDfOX-13" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="475" as="sourcePoint" />
            <mxPoint x="940" y="561" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="475" />
              <mxPoint x="1000" y="561" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="＜ reconcileInfrastructure ＞&lt;br&gt;Set&amp;nbsp;&lt;font color=&quot;#0000ff&quot; style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;OwnerReference : Cluster -(own)-&amp;gt; OpenStackCluster&lt;/font&gt;&lt;br&gt;Waiting for&lt;br&gt;&lt;b&gt;OpenStackCluster.Status.Ready &lt;/b&gt;is&lt;b&gt; True&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/cluster/cluster_controller_phases.go#L195-L198" id="gd78qVggPRkEUmriDfOX-15">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="950" y="163" width="340" height="70" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&amp;nbsp;＜ reconcileControlPlane ＞&lt;br&gt;Set&amp;nbsp;&lt;font color=&quot;#0000ff&quot; style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;OwnerReference : Cluster -(own)-&amp;gt; KubeadmControlPlane&lt;/font&gt;&lt;br&gt;Waiting for&lt;br&gt;&lt;b&gt;KueadmControlPlane.Status.Initialized&amp;nbsp;&lt;/b&gt;is&lt;b&gt; True&lt;br&gt;&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/cluster/cluster_controller_phases.go#L265-L275" id="gd78qVggPRkEUmriDfOX-16">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="950" y="263" width="340" height="70" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&amp;nbsp;＜ reconcileKubeconfig ＞&lt;br&gt;If a &lt;b&gt;ControlPlaneRef&lt;/b&gt; is set, then the Control Plane Provider is responsible for generating the &lt;b&gt;kubeconfig&lt;/b&gt;." link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/cluster/cluster_controller_phases.go#L287-L292" id="gd78qVggPRkEUmriDfOX-17">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="950" y="373" width="340" height="70" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&amp;nbsp;＜ reconcileKubeconfig ＞&lt;br&gt;If &lt;b&gt;ControlPlaneRef&lt;/b&gt; is set, this process is skipped." link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/cluster/cluster_controller.go#L480-L485" id="gd78qVggPRkEUmriDfOX-18">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="950" y="490" width="340" height="53" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="31veatcvXabuM6n3mju--23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="gd78qVggPRkEUmriDfOX-19" target="xfaPNnZRIsi5CIh0o9ph-0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gd78qVggPRkEUmriDfOX-19" value="Reconcile &lt;b&gt;Cluster&lt;/b&gt;&amp;nbsp;Controller" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="680" y="140" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="O6Msf0nIQJOXLwqsJY90-3" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="gd78qVggPRkEUmriDfOX-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1280" y="200" as="sourcePoint" />
            <mxPoint x="940" y="590" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1310" y="198" />
              <mxPoint x="1310" y="590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g-v6_2hosOyxJWGCfkAE-0" value="Create &lt;b&gt;KubeadmControlPlane&lt;/b&gt; Resource" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0;dx=10;notch=0;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="240" y="100" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="g-v6_2hosOyxJWGCfkAE-1" value="Create &lt;b&gt;Cluster&lt;/b&gt;&amp;nbsp;Resource" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0;dx=10;notch=0;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="680" y="100" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="g-v6_2hosOyxJWGCfkAE-3" value="Reconcile &lt;b&gt;KubeadmControlPlane&lt;/b&gt;&amp;nbsp;Controller" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="240" y="140" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="g-v6_2hosOyxJWGCfkAE-2" value="Create &lt;b&gt;KubeadmConfig&lt;/b&gt;&amp;nbsp;Resource" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0;dx=10;notch=0;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1280" y="1220" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="g-v6_2hosOyxJWGCfkAE-4" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="541" y="156" as="sourcePoint" />
            <mxPoint x="541" y="270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="601" y="156" />
              <mxPoint x="600" y="270" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="Waiting for set&lt;br&gt;&lt;b&gt;KubeadmControlPlane.metadata.ownerReferences&lt;br&gt;&lt;/b&gt;by &lt;b&gt;Cluster&lt;br&gt;&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/controlplane/kubeadm/internal/controllers/controller.go#L147-L156" id="g-v6_2hosOyxJWGCfkAE-5">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="560" y="200" width="340" height="50" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="g-v6_2hosOyxJWGCfkAE-7" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="341" as="sourcePoint" />
            <mxPoint x="540" y="341" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="g-v6_2hosOyxJWGCfkAE-8" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="540" y="370" as="sourcePoint" />
            <mxPoint x="540" y="540" as="targetPoint" />
            <Array as="points">
              <mxPoint x="600" y="370" />
              <mxPoint x="599" y="540" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="Set &lt;font color=&quot;#0000ff&quot;&gt;OwnerReference : Cluster -(own)-&amp;gt; OpenStackMachineTemplate&lt;/font&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/controlplane/kubeadm/internal/controllers/controller.go#L342-L345" id="g-v6_2hosOyxJWGCfkAE-9">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="550" y="388" width="380" height="40" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="Waiting for&lt;br&gt;&lt;b&gt;Cluster.Status.InfrastructureReady &lt;/b&gt;is &lt;b&gt;True&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/controlplane/kubeadm/internal/controllers/controller.go#L347-L351" id="g-v6_2hosOyxJWGCfkAE-10">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="550" y="460" width="340" height="50" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="g-v6_2hosOyxJWGCfkAE-11" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="780" as="sourcePoint" />
            <mxPoint x="540" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="g-v6_2hosOyxJWGCfkAE-12" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="540" y="900" as="sourcePoint" />
            <mxPoint x="540" y="980" as="targetPoint" />
            <Array as="points">
              <mxPoint x="600" y="900" />
              <mxPoint x="600" y="980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="Generate &lt;b&gt;kubeconfig&lt;/b&gt; Secret" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/controlplane/kubeadm/internal/controllers/controller.go#L364-L370" id="g-v6_2hosOyxJWGCfkAE-15">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="550" y="920" width="240" height="40" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="Vjft1lGObwCoVNcR9MzN-0" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="540" y="1000" as="sourcePoint" />
            <mxPoint x="540" y="1360" as="targetPoint" />
            <Array as="points">
              <mxPoint x="600" y="1000" />
              <mxPoint x="600" y="1360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="&lt;div style=&quot;text-align: center;&quot;&gt;&amp;nbsp;＜ initializeControlPlane ＞&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;Call cloneConfigsAndGenerateMachine based on&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・Cluster&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・KCP&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・KCP.Spec.KubeadmConfigSpec&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・KCP.Status.FaiureDomains&lt;/div&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/controlplane/kubeadm/internal/controllers/controller.go#L424-L428" id="Vjft1lGObwCoVNcR9MzN-3">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="550" y="1010" width="280" height="101" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&lt;div style=&quot;text-align: center;&quot;&gt;&amp;nbsp;＜ cloneConfigsAndGenerateMachine ＞&lt;/div&gt;&lt;div style=&quot;&quot;&gt;・Setup the data for Machine Resource&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・InfrastructureRef&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　　・from &lt;b&gt;KCP.Spec.MachineTemplate.InfrastructureRef&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;　　&lt;/b&gt;・Generate &lt;b&gt;OpenStackMachine&lt;/b&gt; from &lt;b&gt;MachineTemplate&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・BootstrapRef&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　　・Generate &lt;b&gt;KubeadmConfigs&lt;/b&gt; on this setup&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;Call ＜ createMachine ＞ to create &lt;b&gt;Machine&lt;/b&gt; base on&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・Cluster&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・KCP&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・InfrastructureRef&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・BootstrapRef&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　・FailureDomains&lt;/div&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/controlplane/kubeadm/internal/controllers/helpers.go#L165" id="Vjft1lGObwCoVNcR9MzN-5">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="550" y="1125" width="340" height="220" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="Nm0rlJTsO2jQCJ_zU0Wj-1" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="Vjft1lGObwCoVNcR9MzN-5" target="g-v6_2hosOyxJWGCfkAE-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="1230" as="sourcePoint" />
            <mxPoint x="1290" y="1235" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Nm0rlJTsO2jQCJ_zU0Wj-2" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="Vjft1lGObwCoVNcR9MzN-5" target="31veatcvXabuM6n3mju--2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="840" y="1240" as="sourcePoint" />
            <mxPoint x="940" y="1290" as="targetPoint" />
            <Array as="points">
              <mxPoint x="635" y="1385" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FFA2BmQDdDc9hQ9x6d-g-0" value="Reconcile &lt;b&gt;Machine&lt;/b&gt;&amp;nbsp;Controller" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="720" y="1950" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jT4cSPJMxtXF-6BDlFvC-0" value="Reconcile &lt;b&gt;KubeadmConfig&lt;/b&gt;&amp;nbsp;Controller" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1280" y="1270" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="IhIr9YV37j448sWCalq8-2" value="&lt;div&gt;&amp;nbsp;Let&lt;/div&gt;&lt;div&gt;&amp;nbsp;・infraRef = kcp.Spec.MachineTemplate.InfrastructureRef&lt;/div&gt;&lt;div&gt;&amp;nbsp; // Get the existing &lt;b&gt;OpenStackMachineTemplate&lt;/b&gt; resources&lt;/div&gt;&lt;div&gt;&amp;nbsp;・machineTemplate = Get(infraRef)&lt;/div&gt;&lt;div&gt;　 ・.Name = GenerateName(${machineTemplate.Name} + &quot;-&quot;)&lt;/div&gt;&lt;br&gt;&amp;nbsp;apiVersion: cluster.x-k8s.io/v1beta1&lt;br&gt;&amp;nbsp;Kind: Machine&lt;br&gt;&amp;nbsp;metadata:&lt;br&gt;&amp;nbsp; &amp;nbsp;name : GenerateName(${kcp.Name} + &quot;-&quot;)&lt;br&gt;&amp;nbsp; &amp;nbsp;namespace : ${kcp.Namespace}&lt;br&gt;&amp;nbsp; &amp;nbsp;OwnerReferences:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- apiVersion: controlplane.cluster.x-k8s.io/v1beta1&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;kind: KubeadmControlPlane&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;name: ${kcp.Name}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uid: ${kcp.UID}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;blockOwnerDeletion: true&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;controller: true&lt;br&gt;&amp;nbsp;spec:&lt;br&gt;&amp;nbsp; &amp;nbsp;clusterName: $[cluster.Name}&lt;br&gt;&amp;nbsp; &amp;nbsp;version: ${kcp.Spec.Version}&lt;br&gt;&amp;nbsp; &amp;nbsp;failureDomain: $[failureDomain}&lt;br&gt;&amp;nbsp; &amp;nbsp;infrastructureRef:&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;apiVersion: ${machineTemplate.ApiVersion}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;kind: ${machineTemplate.Kind} - &quot;Template&quot; //&lt;b&gt; OpenStackMachine&lt;/b&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;name: ${machineTemplate.Name}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;namespace: ${kcp.Namespace}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;uid: ${machineTemplate.UID}&lt;br&gt;&amp;nbsp; &amp;nbsp;bootstrap:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;configRef:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;apiVersion: bootstrap.cluster.x-k8s.io/v1beta1&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;kind: KubeadmConfig&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;name: GenerateName(${kcp.Name} + &quot;-&quot;)&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;namespace: ${kcp.Namespace}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uid: ${kcp.UID}" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="550" y="1410" width="380" height="520" as="geometry" />
        </mxCell>
        <mxCell id="IhIr9YV37j448sWCalq8-3" value="&amp;nbsp;metadata:&lt;br&gt;&amp;nbsp; &amp;nbsp;name : GenerateName(${kcp.Name} + &quot;-&quot;)&lt;br&gt;&amp;nbsp; &amp;nbsp;namespace : ${kcp.Namespace}&lt;br&gt;&amp;nbsp; &amp;nbsp;Lables:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- ${kcp.Spec.MachineTemplate.ObjectMeta.Labels}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- cluster.x-k8s.io/cluster-name: ${cluster.Name}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- cluster.x-k8s.io/control-plane:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- cluster.x-k8s.io/control-plane-name: ${kcp.Name}&lt;br&gt;&amp;nbsp; &amp;nbsp;Annotations:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- ${kcp.Spec.MachineTemplate.ObjectMeta.Annotations}&lt;br&gt;&amp;nbsp; &amp;nbsp;OwnerReferences:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- apiVersion: controlplane.x-k8s.io/v1beta1&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;kind: KubeadmControlPlane&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;name: kcp.Name&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uid: kcp.UID&lt;br&gt;&amp;nbsp;spec:&lt;br&gt;&amp;nbsp; &amp;nbsp;${kcp.Spec.KubeadmConfigSpec (JoinConfiguration is nil)}" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1190" y="910" width="343" height="291" as="geometry" />
        </mxCell>
        <mxCell id="IhIr9YV37j448sWCalq8-4" value="Let&lt;br&gt;&amp;nbsp;・infraRef = kcp.Spec.MachineTemplate.InfrastructureRef&lt;br&gt;&amp;nbsp; // Get the existing &lt;b&gt;OpenStackMachineTemplate&lt;/b&gt; resources&lt;br&gt;&amp;nbsp;・machineTemplate = Get(infraRef)&lt;br&gt;　 ・.Name = GenerateName(${machineTemplate.Name} + &quot;-&quot;)&lt;br&gt;&lt;br&gt;&amp;nbsp;apiVersion: ${machineTemplate.ApiVersion}&lt;br&gt;&amp;nbsp;kind: ${machineTemplate.Kind} - &quot;Template&quot; // &lt;b&gt;OpenStackMachine&lt;/b&gt;&lt;br&gt;&amp;nbsp;metadata:&lt;br&gt;&amp;nbsp; &amp;nbsp;name: ${machineTemplate.Name}&lt;br&gt;&amp;nbsp; &amp;nbsp;namespace: ${kcp.NameSpace}&lt;br&gt;&amp;nbsp; &amp;nbsp;annotations:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- ${template.metadata.annotations}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- cluster.x-k8s.io/cloned-from-name: ${infraRef.Name}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- cluster.x-k8is.io/cloned-from-groupkind: ${infraRef....}&lt;br&gt;&amp;nbsp; &amp;nbsp;ownerReferences:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- apiVersion:&amp;nbsp;controlplane.cluster.x-k8s.io/v1beta1&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;kind: KubeadmControlPlane&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;Name: ${kcp.Name}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;UID: ${kcp.UID}&lt;br&gt;&amp;nbsp;spec: ${machineTemplate.Spec}" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="150" y="876" width="370" height="310" as="geometry" />
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--0" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.25;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="550" y="1200" as="sourcePoint" />
            <mxPoint x="140" y="1200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--1" value="Reconcile &lt;b&gt;OpenStackMachine&lt;/b&gt;&amp;nbsp;Controller" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-140" y="1230" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--2" value="Create &lt;b&gt;Machine&lt;/b&gt;&amp;nbsp;Resource" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0;dx=10;notch=0;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="720" y="1370" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--4" value="Create &lt;b&gt;OpenStackMachine&lt;/b&gt;&amp;nbsp;Resource" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.arrow;dy=0;dx=10;notch=0;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-140" y="1186" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--6" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="141" y="1246" as="sourcePoint" />
            <mxPoint x="141" y="1360" as="targetPoint" />
            <Array as="points">
              <mxPoint x="201" y="1246" />
              <mxPoint x="200" y="1360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="Waiting for set&lt;br&gt;&lt;b&gt;OpenStackMachine.metadata.ownerReferences&lt;br&gt;&lt;/b&gt;to&amp;nbsp;&lt;b&gt;Machine&lt;br&gt;&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api-provider-openstack/blob/v0.7.3/controllers/openstackmachine_controller.go#L93-L101" id="31veatcvXabuM6n3mju--5">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="150" y="1280" width="340" height="50" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="31veatcvXabuM6n3mju--7" value="" style="endArrow=classic;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;dashed=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="557" y="1742" as="sourcePoint" />
            <mxPoint x="508" y="1170" as="targetPoint" />
            <Array as="points">
              <mxPoint x="508" y="1743" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--8" value="" style="endArrow=classic;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;dashed=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" target="IhIr9YV37j448sWCalq8-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="640" y="1843" as="sourcePoint" />
            <mxPoint x="1184.855" y="945.01" as="targetPoint" />
            <Array as="points">
              <mxPoint x="990" y="1843" />
              <mxPoint x="990" y="945" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--9" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="1965" as="sourcePoint" />
            <mxPoint x="940" y="2030" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="1965" />
              <mxPoint x="1000" y="2030" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--12" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="2280" as="sourcePoint" />
            <mxPoint x="940" y="2370" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="2280" />
              <mxPoint x="1000" y="2370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--13" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="2400" as="sourcePoint" />
            <mxPoint x="940" y="2486" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="2400" />
              <mxPoint x="1000" y="2486" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="＜ reconcileBootstrap ＞&lt;br&gt;Set&amp;nbsp;&lt;font color=&quot;#0000ff&quot; style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;OwnerReference : Machine -(own)-&amp;gt; KubeadmConfigs&lt;/font&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/machine/machine_controller_phases.go#L180" id="31veatcvXabuM6n3mju--15">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="950" y="1980" width="360" height="40" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&amp;nbsp;＜ reconcileInfrastructure ＞&lt;br&gt;Waiting for&lt;br&gt;&lt;b&gt;OpenStackMachine.Status.Ready&amp;nbsp;&lt;/b&gt;is&lt;b&gt; True&lt;br&gt;&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/machine/machine_controller_phases.go#L279-L281" id="31veatcvXabuM6n3mju--16">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="950" y="2290" width="340" height="62" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&amp;nbsp;＜ reconcileNode ＞&lt;br&gt;Waiting for Set&lt;br&gt;&lt;b&gt;Machine.Spec.ProviderID&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/machine/machine_controller_noderef.go#L56-L61" id="31veatcvXabuM6n3mju--17">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="950" y="2420" width="340" height="52" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="31veatcvXabuM6n3mju--20" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1540" y="2510" as="sourcePoint" />
            <mxPoint x="940" y="2510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--21" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="2250" as="sourcePoint" />
            <mxPoint x="140" y="2250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--22" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="2050" as="sourcePoint" />
            <mxPoint x="1540" y="2050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--28" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="2070" as="sourcePoint" />
            <mxPoint x="940" y="2150" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="2070" />
              <mxPoint x="1000" y="2150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="＜ reconcileBootstrap ＞&lt;br&gt;Waiting for&lt;br&gt;&lt;b&gt;KubeadmConfig.Status.Ready &lt;/b&gt;is&lt;b&gt; True&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/machine/machine_controller_phases.go#L220-L224" id="31veatcvXabuM6n3mju--26">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="950" y="2080" width="360" height="59" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="31veatcvXabuM6n3mju--32" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1540" y="1285" as="sourcePoint" />
            <mxPoint x="1540" y="1380" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1600" y="1285" />
              <mxPoint x="1600" y="1380" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="&amp;nbsp;Waiting for set&lt;br&gt;&lt;b&gt;KubeadmConfig.metadata.ownerReferences&lt;/b&gt;&lt;br&gt;to &lt;b&gt;Machine&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/bootstrap/kubeadm/internal/controllers/kubeadmconfig_controller.go#L161-L166" id="31veatcvXabuM6n3mju--31">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="1553" y="1299" width="280" height="61" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="31veatcvXabuM6n3mju--33" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1540" y="2050" as="sourcePoint" />
            <mxPoint x="1540" y="2510" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1600" y="2050" />
              <mxPoint x="1600" y="2510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="&lt;div style=&quot;text-align: center;&quot;&gt;&amp;nbsp;＜ handleClusterNotInitialized ＞&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;Parepare&amp;nbsp;&lt;b&gt;Secret&lt;/b&gt;&amp;nbsp;data that contains following &lt;a href=&quot;https://cloudinit.readthedocs.io/en/latest/&quot;&gt;Cloud-Init&lt;/a&gt; or &lt;a href=&quot;https://www.flatcar.org/docs/latest/provisioning/ignition/specification/&quot;&gt;Ignition&lt;/a&gt; contents&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;・Certificates&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;・kubeadm.yaml (See &lt;a href=&quot;https://kubernetes.io/docs/reference/config-api/kubeadm-config.v1beta4/&quot;&gt;kubeadm configuration&lt;/a&gt;)&lt;/div&gt;&lt;div style=&quot;&quot;&gt;　 ・InitConfiguration&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;　・ClusterConfiguration&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;　・runcmd: kubeadm init --config /run/kubeadm/kubeadm.yaml&lt;/div&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/bootstrap/kubeadm/internal/controllers/kubeadmconfig_controller.go#L286-L289" id="31veatcvXabuM6n3mju--34">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="1553" y="2160" width="427" height="120" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="31veatcvXabuM6n3mju--36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="31veatcvXabuM6n3mju--31" target="31veatcvXabuM6n3mju--31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="31veatcvXabuM6n3mju--37" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1540" y="2540" as="sourcePoint" />
            <mxPoint x="1540" y="2620" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1600" y="2540" />
              <mxPoint x="1600" y="2620" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="&lt;div style=&quot;&quot;&gt;&amp;nbsp;＜ ensureBootstrapSecretOwnerRef ＞&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;Set &lt;font color=&quot;#0000ff&quot;&gt;OwnerReference KubeadmConfig -(own) -&amp;gt; Secret&lt;/font&gt;&lt;/div&gt;" id="31veatcvXabuM6n3mju--38">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="1553" y="2550" width="317" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&lt;div style=&quot;text-align: center;&quot;&gt;&amp;nbsp;＜ storeBootstrapData ＞&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp;・Generate Secret resource from above data&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;・Set &lt;b&gt;KubeadmConfig.Status.DataSecretName&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;・Set &lt;b&gt;KubeadmConfig.Status.Ready&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;・Set &lt;b&gt;KubeadmConfig.Status.Conditions&lt;/b&gt; (&lt;b&gt;DataSecretAvailable&lt;/b&gt; is True)&lt;/div&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/bootstrap/kubeadm/internal/controllers/kubeadmconfig_controller.go#L522-L525" id="31veatcvXabuM6n3mju--42">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="1553" y="2290" width="427" height="80" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="31veatcvXabuM6n3mju--44" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="2185" as="sourcePoint" />
            <mxPoint x="940" y="2250" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="2185" />
              <mxPoint x="1000" y="2250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="&amp;nbsp;＜ reconcileInfrastructure ＞&lt;br&gt;Set&amp;nbsp;&lt;font color=&quot;#0000ff&quot; style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;OwnerReference : Machine -(own)-&amp;gt; OpenStackMachine&lt;/font&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/machine/machine_controller_phases.go#L247-L248" id="31veatcvXabuM6n3mju--43">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="950" y="2200" width="360" height="40" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="31veatcvXabuM6n3mju--46" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="141" y="2273" as="sourcePoint" />
            <mxPoint x="140" y="2360" as="targetPoint" />
            <Array as="points">
              <mxPoint x="201" y="2273" />
              <mxPoint x="200" y="2360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="Waiting for set&lt;br&gt;&lt;b&gt;OpenStackMachine.Spec.Bootstrap.DataSecretName&lt;/b&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api-provider-openstack/blob/v0.7.3/controllers/openstackmachine_controller.go#L316-L321" id="31veatcvXabuM6n3mju--47">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="150" y="2290" width="340" height="50" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="31veatcvXabuM6n3mju--48" value="" style="endArrow=classic;html=1;rounded=0;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="2530" as="sourcePoint" />
            <mxPoint x="940" y="2600" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1000" y="2530" />
              <mxPoint x="1000" y="2600" />
            </Array>
          </mxGeometry>
        </mxCell>
        <UserObject label="＜ reconcileBootstrap ＞&lt;br&gt;&lt;b&gt;Machine.Spec.Bootstrap.DataSecretName&lt;/b&gt; =&lt;b&gt; KubeadmConfig.Status.DataSecretName&lt;/b&gt;" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/machine/machine_controller_phases.go#L227-L233" id="31veatcvXabuM6n3mju--49">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
            <mxGeometry x="950" y="2540" width="490" height="50" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="31veatcvXabuM6n3mju--52" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="940" y="2600" as="sourcePoint" />
            <mxPoint x="140" y="2600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fxvNcrM4MveXy_DPgTpj-0" value="Legends&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;div style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;Bold&lt;/b&gt;&amp;nbsp;: The Kubernetes Resource Data&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; color=&quot;#0000ff&quot;&gt;Blue&lt;/font&gt;&amp;nbsp;: The relationship between Kubernetes Resources&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;&amp;lt; Func &amp;gt; : The function name&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;Rounded rectangle is basically has hyperlink to the actual code ( please click )&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); text-align: left;&quot;&gt;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-600" y="43" width="455" height="127" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="1GsGqCXN8Yxk1cSTd2W0" name="capo-controllers">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="PSVwS57urpKRihPEUnA6-4" value="Custom Resources" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;verticalAlign=bottom;" vertex="1" parent="1">
          <mxGeometry x="60" y="230" width="270" height="470" as="geometry" />
        </mxCell>
        <UserObject label="cluster-api openstack provider（v0.7.3）" link="https://github.com/kubernetes-sigs/cluster-api-provider-openstack/tree/v0.7.3" id="6x-fGDOkvUFNguMoq0eM-1">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="354" y="100" width="416" height="80" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="YcCoLd1lFOuyd9ay4IwW-3" value="infrav1.OpenStackCluster" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="260" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="YcCoLd1lFOuyd9ay4IwW-5" value="clusterv1.Cluster" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="370" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="YcCoLd1lFOuyd9ay4IwW-9" value="　infnrav1 =&amp;gt;&amp;nbsp;cluster-api-provider-openstack/api/v1alpha6&lt;br&gt;　clusterv1 =&amp;gt;&amp;nbsp;cluster-api/api/v1beta1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;align=left;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="10" y="100" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BuDaOQ2_HBmb9qC5fw9n-2" value="infrav1.OpenStackMachine" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="485" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="YcCoLd1lFOuyd9ay4IwW-6" value="" style="endArrow=none;html=1;entryX=0.25;entryY=1;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;exitX=1;exitY=0.5;exitDx=0;exitDy=0;rounded=0;startArrow=classic;startFill=1;" edge="1" parent="1" source="YcCoLd1lFOuyd9ay4IwW-5" target="6x-fGDOkvUFNguMoq0eM-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="445" y="500" as="sourcePoint" />
            <mxPoint x="570" y="360" as="targetPoint" />
            <Array as="points">
              <mxPoint x="460" y="405" />
              <mxPoint x="460" y="180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="PSVwS57urpKRihPEUnA6-2" value="「&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Watch&lt;/font&gt;&lt;/b&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="YcCoLd1lFOuyd9ay4IwW-6">
          <mxGeometry x="-0.4396" y="-1" relative="1" as="geometry">
            <mxPoint x="-12" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YcCoLd1lFOuyd9ay4IwW-7" value="" style="endArrow=classic;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;fillColor=#f5f5f5;strokeColor=#000000;endFill=1;" edge="1" parent="1" target="YcCoLd1lFOuyd9ay4IwW-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="295" as="sourcePoint" />
            <mxPoint x="360" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="PSVwS57urpKRihPEUnA6-1" value="「&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;For&lt;/font&gt;&lt;/b&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="YcCoLd1lFOuyd9ay4IwW-7">
          <mxGeometry x="-0.0769" y="2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <UserObject label="OpenStackClusterReconciler&lt;br&gt;SetupManager" link="https://github.com/kubernetes-sigs/cluster-api-provider-openstack/blob/v0.7.3/controllers/openstackcluster_controller.go#L570-L609" id="hl4J_RicK7asCBebP2-g-1">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="344" y="200" width="210" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="BuDaOQ2_HBmb9qC5fw9n-6" value="clusterv1.Machine" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="600" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BuDaOQ2_HBmb9qC5fw9n-7" value="" style="endArrow=none;html=1;entryX=0.779;entryY=1.004;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;rounded=0;startArrow=classic;startFill=1;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="BuDaOQ2_HBmb9qC5fw9n-2" target="6x-fGDOkvUFNguMoq0eM-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="465" as="sourcePoint" />
            <mxPoint x="638" y="240" as="targetPoint" />
            <Array as="points">
              <mxPoint x="280" y="520" />
              <mxPoint x="680" y="520" />
              <mxPoint x="680" y="180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BuDaOQ2_HBmb9qC5fw9n-8" value="「&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;For&lt;/b&gt;&lt;/font&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="BuDaOQ2_HBmb9qC5fw9n-7">
          <mxGeometry x="-0.4396" y="-1" relative="1" as="geometry">
            <mxPoint x="-12" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <UserObject label="OpenStackMachineReconciler&lt;br&gt;SetupManager" link="https://github.com/kubernetes-sigs/cluster-api-provider-openstack/blob/v0.7.3/controllers/openstackmachine_controller.go#L192-L225" id="BuDaOQ2_HBmb9qC5fw9n-4">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="570" y="200" width="210" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="BuDaOQ2_HBmb9qC5fw9n-9" value="" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;rounded=0;startArrow=classic;startFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="YcCoLd1lFOuyd9ay4IwW-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="300" as="sourcePoint" />
            <mxPoint x="680" y="460" as="targetPoint" />
            <Array as="points">
              <mxPoint x="280" y="330" />
              <mxPoint x="340" y="330" />
              <mxPoint x="340" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BuDaOQ2_HBmb9qC5fw9n-13" value="" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;rounded=0;startArrow=classic;startFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="YcCoLd1lFOuyd9ay4IwW-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="290" y="305" as="sourcePoint" />
            <mxPoint x="680" y="460" as="targetPoint" />
            <Array as="points">
              <mxPoint x="280" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BuDaOQ2_HBmb9qC5fw9n-15" value="「&lt;b&gt;&lt;font color=&quot;#ff031c&quot;&gt;Watch&lt;/font&gt;&lt;/b&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="BuDaOQ2_HBmb9qC5fw9n-13">
          <mxGeometry x="0.4066" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BuDaOQ2_HBmb9qC5fw9n-14" value="" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;rounded=0;startArrow=classic;startFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="BuDaOQ2_HBmb9qC5fw9n-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="607.48" as="sourcePoint" />
            <mxPoint x="430" y="460" as="targetPoint" />
            <Array as="points">
              <mxPoint x="400" y="635" />
              <mxPoint x="400" y="460" />
              <mxPoint x="420" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="fJfRLFwB4LryNWWHjsvg" name="capi-control-plane-controllers">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="OAHNsvkbCxS2kmJfni2B-1" value="Custom Resources" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;verticalAlign=bottom;" vertex="1" parent="1">
          <mxGeometry x="60" y="240" width="270" height="360" as="geometry" />
        </mxCell>
        <mxCell id="OAHNsvkbCxS2kmJfni2B-2" value="cluster-api （v1.5.1）&lt;br&gt;&lt;br&gt;controlplane.kubeadm" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="100" width="246" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OAHNsvkbCxS2kmJfni2B-3" value="clusterv1.Cluster" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="470" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OAHNsvkbCxS2kmJfni2B-4" value="clusterv1.Machine" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="370" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="OAHNsvkbCxS2kmJfni2B-10" value="　controlplanev1 =&amp;gt; cluster-api/controlplane/kubeadm/api/v1beta1&lt;br&gt;　clusterv1 =&amp;gt;&amp;nbsp;cluster-api/api/v1beta1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;align=left;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="10" y="100" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="OAHNsvkbCxS2kmJfni2B-6" value="" style="endArrow=none;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;exitX=1;exitY=0.5;exitDx=0;exitDy=0;rounded=0;startArrow=classic;startFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="504.5" as="sourcePoint" />
            <mxPoint x="503.0000000000001" y="182" as="targetPoint" />
            <Array as="points">
              <mxPoint x="503" y="505" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="OAHNsvkbCxS2kmJfni2B-7" value="「&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Watch&lt;/font&gt;&lt;/b&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="OAHNsvkbCxS2kmJfni2B-6">
          <mxGeometry x="-0.4396" y="-1" relative="1" as="geometry">
            <mxPoint x="-12" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <UserObject label="KubeadmControlePlaneReconciler&lt;br&gt;SetupManager" id="OAHNsvkbCxS2kmJfni2B-11">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="398" y="200" width="210" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="OAHNsvkbCxS2kmJfni2B-8" value="" style="endArrow=classic;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;fillColor=#f5f5f5;strokeColor=#000000;endFill=1;" edge="1" parent="1" target="OAHNsvkbCxS2kmJfni2B-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="503" y="405" as="sourcePoint" />
            <mxPoint x="280.11" y="404.72" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="OAHNsvkbCxS2kmJfni2B-9" value="「&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;Own&lt;/b&gt;&lt;/font&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="OAHNsvkbCxS2kmJfni2B-8">
          <mxGeometry x="-0.0769" y="2" relative="1" as="geometry">
            <mxPoint x="14" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="M4M5IeH_oS6YpcaPkxup-1" value="controlplanev1.&lt;br&gt;KubeadmControlPlane" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="270" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="M4M5IeH_oS6YpcaPkxup-3" value="" style="endArrow=classic;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;fillColor=#f5f5f5;strokeColor=#000000;endFill=1;" edge="1" parent="1" target="M4M5IeH_oS6YpcaPkxup-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="503" y="305" as="sourcePoint" />
            <mxPoint x="283" y="305" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="M4M5IeH_oS6YpcaPkxup-4" value="「&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;For&lt;/font&gt;&lt;/b&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="M4M5IeH_oS6YpcaPkxup-3">
          <mxGeometry x="-0.0769" y="2" relative="1" as="geometry">
            <mxPoint x="14" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="jB_KwWKISDssQRoUF651" name="capi-controllers">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="fGLC1GtY3dB90ok2cL7G-1" value="Custom Resources" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;verticalAlign=bottom;" vertex="1" parent="1">
          <mxGeometry x="60" y="230" width="270" height="570" as="geometry" />
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-2" value="cluster-api （v1.5.1）" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="354" y="100" width="1456" height="80" as="geometry" />
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-3" value="clusterv1.Cluster" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="260" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-4" value="clusterv1.Machine" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="370" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-5" value="" style="group" connectable="0" vertex="1" parent="1">
          <mxGeometry x="449" y="295" as="geometry" />
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-6" value="" style="endArrow=none;html=1;entryX=0.065;entryY=1.046;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;exitX=1;exitY=0.5;exitDx=0;exitDy=0;rounded=0;startArrow=classic;startFill=1;entryPerimeter=0;" edge="1" parent="fGLC1GtY3dB90ok2cL7G-5" source="fGLC1GtY3dB90ok2cL7G-4" target="fGLC1GtY3dB90ok2cL7G-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-4" y="205.1" as="sourcePoint" />
            <mxPoint x="121" y="65.1" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-7" value="「&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Watch&lt;/font&gt;&lt;/b&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="fGLC1GtY3dB90ok2cL7G-6">
          <mxGeometry x="-0.4396" y="-1" relative="1" as="geometry">
            <mxPoint x="-12" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-8" value="" style="endArrow=classic;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;fillColor=#f5f5f5;strokeColor=#000000;endFill=1;" edge="1" parent="fGLC1GtY3dB90ok2cL7G-5" target="fGLC1GtY3dB90ok2cL7G-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint as="sourcePoint" />
            <mxPoint x="-89" y="5.099999999999994" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-9" value="「&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;For&lt;/font&gt;&lt;/b&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="fGLC1GtY3dB90ok2cL7G-8">
          <mxGeometry x="-0.0769" y="2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-10" value="　clusterv1 =&amp;gt;&amp;nbsp;cluster-api/api/v1beta1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;align=left;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="10" y="100" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="fGLC1GtY3dB90ok2cL7G-13" target="fGLC1GtY3dB90ok2cL7G-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="610" y="460" as="targetPoint" />
            <Array as="points">
              <mxPoint x="449" y="180" />
              <mxPoint x="710" y="180" />
              <mxPoint x="710" y="440" />
              <mxPoint x="280" y="440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-12" value="「&lt;b&gt;&lt;font color=&quot;#ff031c&quot;&gt;For&lt;/font&gt;&lt;/b&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="fGLC1GtY3dB90ok2cL7G-11">
          <mxGeometry x="0.5414" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <UserObject label="ClusterReconciler&lt;br&gt;SetupManager" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/cluster/cluster_controller.go#L80-L88" id="fGLC1GtY3dB90ok2cL7G-13">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="344" y="200" width="210" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="MachineReconciler&lt;br&gt;SetupManager" link="https://github.com/kubernetes-sigs/cluster-api/blob/main/internal/controllers/machine/machine_controller.go#L108-L125" id="fGLC1GtY3dB90ok2cL7G-14">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="600" y="200" width="210" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="MachineSetReconciler&lt;br&gt;SetupWithManager" id="fGLC1GtY3dB90ok2cL7G-15">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="850" y="200" width="210" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="MachineDeploymentReconciler&lt;br&gt;SetupWithManager" id="fGLC1GtY3dB90ok2cL7G-16">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="1080" y="200" width="210" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="MachineHealthCheckReconciler&lt;br&gt;SetupWithManager" id="fGLC1GtY3dB90ok2cL7G-17">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="1320" y="200" width="210" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-18" value="" style="group" connectable="0" vertex="1" parent="1">
          <mxGeometry x="1560" y="200" width="220" height="90" as="geometry" />
        </mxCell>
        <UserObject label="featureGaters..." id="fGLC1GtY3dB90ok2cL7G-19">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;container=1;" vertex="1" parent="fGLC1GtY3dB90ok2cL7G-18">
            <mxGeometry x="30" y="30" width="190" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="featureGaters..." id="fGLC1GtY3dB90ok2cL7G-20">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;container=1;" vertex="1" parent="fGLC1GtY3dB90ok2cL7G-18">
            <mxGeometry x="20" y="20" width="190" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="featureGaters..." id="fGLC1GtY3dB90ok2cL7G-21">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="fGLC1GtY3dB90ok2cL7G-18">
            <mxGeometry x="10" y="10" width="190" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="featureGaters..." id="fGLC1GtY3dB90ok2cL7G-22">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="fGLC1GtY3dB90ok2cL7G-18">
            <mxGeometry width="190" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-23" value="" style="endArrow=classic;html=1;rounded=0;edgeStyle=orthogonalEdgeStyle;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="fGLC1GtY3dB90ok2cL7G-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="710" y="325" as="sourcePoint" />
            <mxPoint x="280" y="310" as="targetPoint" />
            <Array as="points">
              <mxPoint x="280" y="326" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fGLC1GtY3dB90ok2cL7G-24" value="「&lt;b&gt;&lt;font color=&quot;#ff031c&quot;&gt;Watch&lt;/font&gt;&lt;/b&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="fGLC1GtY3dB90ok2cL7G-23">
          <mxGeometry x="-0.4666" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="9yOwVbE0o5gcLiuX17Gm" name="capi-kubeadm-bootstrap-controllers">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-1" value="Custom Resources" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;verticalAlign=bottom;" vertex="1" parent="1">
          <mxGeometry x="60" y="240" width="270" height="360" as="geometry" />
        </mxCell>
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-2" value="cluster-api （v1.5.1）&lt;br&gt;&lt;br&gt;bootstrap.kubeadm" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="100" width="246" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-3" value="clusterv1.Cluster" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="470" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-4" value="clusterv1.Machine" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="370" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-5" value="　bootstrapv1 =&amp;gt;&amp;nbsp;cluster-api/bootstrap/kubeadm/api/v1beta1&lt;br&gt;　clusterv1 =&amp;gt;&amp;nbsp;cluster-api/api/v1beta1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;align=left;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="10" y="100" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-6" value="" style="endArrow=none;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;exitX=1;exitY=0.5;exitDx=0;exitDy=0;rounded=0;startArrow=classic;startFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="504.5" as="sourcePoint" />
            <mxPoint x="503.0000000000001" y="182" as="targetPoint" />
            <Array as="points">
              <mxPoint x="503" y="505" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-7" value="「&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;Watch&lt;/font&gt;&lt;/b&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="kpI6dHkBKFJ4kFH6QJoy-6">
          <mxGeometry x="-0.4396" y="-1" relative="1" as="geometry">
            <mxPoint x="-12" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <UserObject label="KubeadmConfigReconciler&lt;br&gt;SetupManager" id="kpI6dHkBKFJ4kFH6QJoy-8">
          <mxCell style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
            <mxGeometry x="398" y="200" width="210" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-9" value="" style="endArrow=classic;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;fillColor=#f5f5f5;strokeColor=#000000;endFill=1;" edge="1" parent="1" target="kpI6dHkBKFJ4kFH6QJoy-4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="503" y="405" as="sourcePoint" />
            <mxPoint x="280.11" y="404.72" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-10" value="「&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;Watch&lt;/b&gt;&lt;/font&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="kpI6dHkBKFJ4kFH6QJoy-9">
          <mxGeometry x="-0.0769" y="2" relative="1" as="geometry">
            <mxPoint x="20" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-11" value="bootstrapv1.KubeadmConfig" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="270" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-12" value="" style="endArrow=classic;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;fillColor=#f5f5f5;strokeColor=#000000;endFill=1;" edge="1" parent="1" target="kpI6dHkBKFJ4kFH6QJoy-11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="503" y="305" as="sourcePoint" />
            <mxPoint x="283" y="305" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kpI6dHkBKFJ4kFH6QJoy-13" value="「&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;For&lt;/font&gt;&lt;/b&gt;」" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="kpI6dHkBKFJ4kFH6QJoy-12">
          <mxGeometry x="-0.0769" y="2" relative="1" as="geometry">
            <mxPoint x="20" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
